{% load static markdown %}

<div class="card mb-4 featured-post">
    <div class="row no-gutters">
        <div class="col-md-5">
            {% if post.image %}
            <img src="/media/{{ post.image }}" class="img-fluid" alt="">
            {% else %}
            <img src="{% static 'blog/default.jpeg' %}" class="img-fluid" alt="">
            {% endif %}
        </div>
        <div class="col-md-7">
            <div class="card-block px-3 pt-3 pb-1 card-title-wrapper bg-dark">
                <h4 class="card-title text-light">{{ post.title }}</h4>
            </div>
            <div class="card-block p-3">
                <p class="card-text">{{ post.preview_text|markdown|safe|truncatewords:50 }}</p>
                <a class="btn btn-dark float-right text-light"
                    href="{% url 'blog:post_detail' post.id post.slug %}"
                >
                    Continue reading
                </a>
                <a class="btn btn-light float-right mr-2"
                    href="{% url 'blog:post_detail' post.id post.slug %}#comments"
                >
                    Comments <span>({{ post.comment_set.count }})</span>
                </a>
            </div>
        </div>
    </div>
    <div class="card-footer w-100 text-muted py-1">
        {% for tag in post.tags.all %}
        <a href="{% url 'blog:list_result' tag.name %}" class="no-hover-style">
            <span class="badge badge-pill badge-dark px-2 mx-1">{{ tag.name }}</span>
        </a>
        {% endfor %}
        <span class="font-9 float-right">
            {{ post.updated_at }}
        </span>
    </div>
</div>